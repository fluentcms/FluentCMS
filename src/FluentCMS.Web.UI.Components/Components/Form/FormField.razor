@* TODO *@

@inherits FormElementsField

@namespace FluentCMS.Web.UI.Components

<div @attributes="AdditionalAttributes"
     class="@this.GetClasses()">
    @if (!IsInlineLabel && !string.IsNullOrEmpty(Label))
    {
        <label for="@Id"
               class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">
            @Label
        </label>
    }
    <div class="relative">
        @if (IconStart != null)
        {
            <div class="absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none">
                <Icon Name="IconStart.GetValueOrDefault()" />
            </div>
        }
        @if (IsInlineLabel)
        {
            @if (Appearance == FormFieldAppearance.Switch)
            {

                <label class="relative inline-flex items-center cursor-pointer">
                    @ChildContent
                    <span class="ms-3 text-sm font-medium text-gray-900 dark:text-gray-300">@Label</span>
                </label>
            }
            else
            {
                @ChildContent
                @if (!string.IsNullOrEmpty(Label))
                {
                    <label for="@Id"
                           class="ms-2 text-sm font-medium text-gray-900 dark:text-gray-300">
                        @Label
                    </label>
                }
            }
        }
        else
        {
            @ChildContent
        }
        @if (IconEnd != null)
        {
            <div class="absolute inset-y-0 end-0 flex items-center pe-3.5 pointer-events-none">
                <Icon Name="IconEnd.GetValueOrDefault()" />
            </div>
        }
    </div>
    @if (!string.IsNullOrEmpty(Hint))
    {
        <p class="mt-2 text-sm text-gray-500 dark:text-gray-400">
            @Hint
        </p>
    }
    @if (!Dense)
    {
        <Spacer />
    }
</div>

@code
{
    public bool IsInlineLabel
    {
        get => Appearance == FormFieldAppearance.Checkbox || Appearance == FormFieldAppearance.Radio || Appearance == FormFieldAppearance.Switch;
    }
}
