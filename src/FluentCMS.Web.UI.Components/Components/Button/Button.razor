@inherits BaseComponent

@namespace FluentCMS.Web.UI.Components

@if (!string.IsNullOrEmpty(Href))
{
    <a @attributes="AdditionalAttributes"
       class="@this.GetClasses()"
       disabled="@Disabled"
       href="@Href"
       @onclick:stopPropagation="StopPropagation">
        <span>
            @ChildContent
        </span>
        @if (Loading)
        {
            <Spinner Color="Color" />
        }
    </a>
}
else
{
    <button @attributes="AdditionalAttributes"
            class="@this.GetClasses()"
            disabled="@Disabled"
            type="@Type.ToString()"
            @onclick:stopPropagation="StopPropagation"
            @onclick="OnClick">
        <span>
            @ChildContent
        </span>
        @if (Loading)
        {
            <Spinner Color="Color" />
        }
    </button>
}

@code {
    [Parameter]
    [CSSProperty]
    public bool Block { get; set; }

    [Parameter]
    [CSSProperty]
    public Color Color { get; set; } = Color.Default;

    [Parameter]
    [CSSProperty]
    public bool Disabled { get; set; }

    [Parameter]
    [CSSProperty]
    public bool Ghost { get; set; }

    [Parameter]
    public string? Href { get; set; }     

    [Parameter]
    [CSSProperty]
    public bool Icon { get; set; }

    [Parameter]
    [CSSProperty]
    public bool Item { get; set; }

    [Parameter]
    [CSSProperty]
    public bool Link { get; set; }

    [Parameter]
    [CSSProperty]
    public bool Loading { get; set; }

    [Parameter]
    [CSSProperty]
    public bool Outline { get; set; }

    [Parameter]
    [CSSProperty]
    public ButtonSize Size { get; set; } = ButtonSize.Medium;

    [Parameter]
    public bool StopPropagation { get; set; }

    [Parameter]
    public ButtonType Type { get; set; } = ButtonType.Button;

    [Parameter]
    public EventCallback<MouseEventArgs> OnClick { get; set; }
}
