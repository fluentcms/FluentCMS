@inherits BasePlugin

<PluginBody Title="Users List">
    <ActionsFragment>
        <Button Href="@GetUrl("Create User")" Color="Color.Primary">
            <Icon Name="IconName.Plus" />Add User
        </Button>
    </ActionsFragment>
    <ChildContent>
        <DataTable Items="Users">
            <DataTableItem Label="UserName">@context.Username</DataTableItem>
            <DataTableItem Label="First Name">@context.FirstName</DataTableItem>
            <DataTableItem Label="Last Name">@context.LastName</DataTableItem>
            <DataTableItem Label="Email">@context.Email</DataTableItem>
            <DataTableItem Label="Email Confirmed">
                <Badge Color="Color.Success" Visible="@context.EmailConfirmed">YES</Badge>
                <Badge Color="Color.Danger" Visible="@(!context.EmailConfirmed)">NO</Badge>
            </DataTableItem>
            <DataTableItem Label="Phone">@context.PhoneNumber</DataTableItem>
            <DataTableItem Label="Phone Confirmed">
                <Badge Color="Color.Success" Visible="@context.PhoneConfirmed">YES</Badge>
                <Badge Color="Color.Danger" Visible="@(!context.PhoneConfirmed)">NO</Badge>
            </DataTableItem>
            <DataTableItem Label="Enable">
                <Badge Color="Color.Success" Visible="@context.Enabled">YES</Badge>
                <Badge Color="Color.Danger" Visible="@(!context.Enabled)">NO</Badge>   
            </DataTableItem>
            <DataTableItem Label="Create Date">@context.CreatedAt</DataTableItem>
            <DataTableItem Label="Last Login Date">@context.LoginAt</DataTableItem>
            <DataTableItem Label="Login Count">@context.LoginCount</DataTableItem>
            <DataTableItem Label="Locked">
                <Badge Color="Color.Success" Visible="@(!context.Locked)">NO</Badge>
                <Badge Color="Color.Danger" Visible="@context.Locked">YES</Badge>
            </DataTableItem>
            <DataTableItem Label="Roles">
                @foreach (var role in context.Roles?.Where(_ => !string.IsNullOrEmpty(_.Name)) ?? [])
                {
                    <Badge Color="Color.Info">@role.Name</Badge>
                }
            </DataTableItem>
            <DataTableItem>
                <Button Color="Color.Primary" Href="@GetUrl("Update User", new { id = @context.Id })" Size="ButtonSize.Small">
                    <Icon Name="IconName.Edit" />Edit User
                </Button>
            </DataTableItem>
        </DataTable>
    </ChildContent>
</PluginBody>
