@inherits BasePlugin
@rendermode InteractiveServer

<PluginBody Title="Roles List">
    <ActionsFragment>
        <Button Href="@GetUrl("Create Role")" Color="Color.Primary">
            <Icon Name="IconName.Plus" />Add New Role
        </Button>
    </ActionsFragment>
    <ChildContent>
        <DataTable Items="Roles">
            <ColumnsFragment>
                <DataTableItem Label="Name">@context.Name</DataTableItem>
                <DataTableItem Label="Description">@context.Description</DataTableItem>
                <DataTableItem>
                    <Stack>
                        <Button Color="Color.Primary" Href="@GetUrl("Update Role", new { id = @context.Id })" Size="ButtonSize.Small">
                            <Icon Name="IconName.Edit" />Edit
                        </Button>
                        <Button Color="Color.Danger" Outline @onclick="() => OnConfirm(context)" Size="ButtonSize.Small">
                            <Icon Name="IconName.Delete" />Delete
                        </Button>
                    </Stack>
                </DataTableItem>
            </ColumnsFragment>
            <EmptyStateFragment>
                <EmptyState Message="No roles found!">
                    <Button Href="@GetUrl("Create Role")" Color="Color.Primary">
                        <Icon Name="IconName.Plus" />Add New Role
                    </Button>
                </EmptyState>
            </EmptyStateFragment>
        </DataTable>
    </ChildContent>
</PluginBody>

<Confirm OnConfirm="OnDelete" OnCancel="OnConfirmClose" Visible="SelectedRole != null">
    Are you sure to delete role @SelectedRole!.Name?
</Confirm>
