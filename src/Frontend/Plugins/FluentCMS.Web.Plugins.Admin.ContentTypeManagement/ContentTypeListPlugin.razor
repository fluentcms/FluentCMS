@inherits BasePlugin
@rendermode InteractiveServer

<PluginBody Title="Content Types">
    <ActionsFragment>
        <Button Href="@GetUrl("Create ContentType")" Color="Color.Primary">
            <Icon Name="IconName.Plus" />New Type
        </Button>
    </ActionsFragment>
    <ChildContent>
        <DataTable Items="ContentTypes">
            <DataTableItem Label="Slug">
                @context.Slug
            </DataTableItem>
            <DataTableItem Label="Title">
                @context.Title
            </DataTableItem>
            <DataTableItem Label="Description">
                @context.Description
            </DataTableItem>
            <DataTableItem Label="Fields">
                @(context.Fields?.Count ?? 0)
            </DataTableItem>
            <DataTableItem>
                <Stack>
                    <Button Color="Color.Primary" Href="@GetUrl("Update ContentType", new { id = @context.Id })" Size="ButtonSize.Small">
                        <Icon Name="IconName.Edit" />Edit
                    </Button>
                    <Button Color="Color.Danger" Href="@GetUrl("View ContentType", new { id = @context.Id })" Size="ButtonSize.Small">
                        <Icon Name="IconName.Eye" />Fields
                    </Button>
                    <Button Color="Color.Secondary" Href="@GetUrl("Contents List", new { slug = @context.Slug })" Size="ButtonSize.Small">
                        <Icon Name="IconName.Eye" />Contents
                    </Button>
                    <Button Color="Color.Danger" Outline @onclick="() => OnConfirm(context.Id)" Size="ButtonSize.Small">
                        <Icon Name="IconName.Delete" />Delete
                    </Button>
                </Stack>
            </DataTableItem>
        </DataTable>
    </ChildContent>
</PluginBody>

<Confirm OnConfirm="OnDelete" OnCancel="OnConfirmClose" Visible="SelectedContentTypeId != null">
    Are you sure to delete content?
</Confirm>
