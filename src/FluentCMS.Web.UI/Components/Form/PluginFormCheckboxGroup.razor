@typeparam TItem

@typeparam TValue

@inherits FormElementCheckboxes<ICollection<TValue>>

@namespace FluentCMS.Web.UI.Plugins.Components

@if (Visible)
{
    <FormField Cols="Cols" Dense="@Dense" Id="@Id" Label="@Label" LabelFragment="@LabelFragment" Required="@Required">
        @if (ChildContent == null)
        {
            if (Data != null && Data.Any())
            {
                <div class="flex-wrap @(Vertical ? "" : "flex")">
                    @foreach (var item in Data)
                    {
                        <div class="mr-4 mb-2">
                            <input @attributes="AdditionalAttributes" checked="@IsChecked(item)"
                                   @onchange="(e) => HandleChange(e, GetValue(item))"
                                   class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"
                                   id="@($"{NameAttributeValue}_{GetValue(item)}")"
                                   name="@NameAttributeValue"
                                   type="checkbox"
                                   value="@GetValue(item)">
                            <label for="@($"{NameAttributeValue}_{GetValue(item)}")" class="ms-2 text-sm font-medium text-gray-900 dark:text-gray-300">
                                @GetText(item)
                            </label>
                        </div>
                    }
                </div>
            }
        }
        else
        {
            @ChildContent
        }
        
    </FormField>
}
