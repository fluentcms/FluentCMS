@page "/{**Route:nonfile}"
@inject ErrorManager ErrorManager

<PageTitle>@Page?.Title</PageTitle>
<HeadContent>
    @if (Page?.Layout?.Head != null)
    {
        @((MarkupString)Page.Layout.Head)
    }
</HeadContent>

<ExtendedErrorBoundary @ref="ErrorBoundary" OnError="HandleError">
    @ChildComponents()
</ExtendedErrorBoundary>


@code {
    public ExtendedErrorBoundary ErrorBoundary { get; set; }
    public async Task HandleError(Exception e)
    {
        ErrorBoundary.Recover();
        await ErrorManager.HandleException(e);
    }
}
